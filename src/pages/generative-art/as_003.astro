---
import Layout from "@/layouts/Layout.astro"
import ContentHeader from "@/components/ContentHeader.astro"
import { Image } from "astro:assets"
import as_003 from "@/assets/images/generative_art/as_003.png"
import Tabs from "@/components/Tabs.astro"
import TabItem from "@/components/TabItem.astro"
import Code from "@/components/Code.astro"

const code = `
function setup() {
  createCanvas(800, 800)
  noLoop()
  noFill()
  background(20)
}

class RPoint {
  constructor(x, y, z) {
    let rm = random(r)
    this.x = (x - r + 10) + rm
    this.y = (y + r + 10) - rm
  }
}

class Point {
  constructor(x, y) {
    this.x = x
    this.y = y
  }
}

function draw() {
  for (x = 5; x < 75; x++) {
    for (y = 5; y < 75; y++) {
      r = random(200)
      stroke(200, r + 80, r + 80)
      strokeWeight(3)

      let p1 = new RPoint((x * 10) - 10, (y * 10) - 10, 175)
      let p2 = new Point(x * 10, y * 10)
      let p3 = new Point((x * 10) + 10, (y * 10) + 10)
      let p4 = new RPoint((x * 10) + 20, (y * 10) + 10, 150)

      curve(p1.x, p1.y, p2.x, p2.y, p3.x, p3.y, p4.x, p4.y)
    }
  }
}
`

---

<Layout title="as_003">
	<main>
		<ContentHeader>
			<h1>as_003</h1>
		</ContentHeader>
		<section class="content-section grid grid-cols-1 md:grid-cols-2">
			<div class="md:border-r border-r-0">
				<div class="content-image-container">
					<Image
						src={as_003}
						alt="as_003"
					/>
				</div>
			</div>
			<div>
				<Tabs>
					<TabItem
						title="as_003.js"
					/>
				</Tabs>
				<br>
				<Code code={code} />
			</div>
        </section>
	</main>
</Layout>

<style lang="scss" scoped>
.content-section {
	flex: 1;
}

.p5-code {
	padding: 10px 30px;
}
</style>